// https://github.com/farzher/fuzzysort v2.0.1
((r,e)=>{"function"==typeof define&&define.o?define([],e):"object"==typeof module&&module.exports?module.exports=e():r.fuzzysort=e()})(this,r=>{var t,l,e,n,a=r=>{var e=i(r="string"!=typeof r?"":r);return{target:r,t:e.l,i:e.u,v:null,g:e._,score:null,p:[0],obj:null}},z=r=>{r=(r="string"!=typeof r?"":r).trim();var e=i(r),n=[];if(e.C)for(var a,f=r.split(/\s+/),f=[...new Set(f)],o=0;o<f.length;o++)""!==f[o]&&(a=i(f[o]),n.push({u:a.u,l:f[o].toLowerCase(),C:!1}));return{u:e.u,_:e._,C:e.C,l:e.l,L:n}},D=r=>{var e;return 999<r.length?a(r):(void 0===(e=f.get(r))&&(e=a(r),f.set(r,e)),e)},E=(r,e)=>{if(r.C)return L(r,e);for(var n=r.l,a=r.u,f=a[0],o=e.i,t=a.length,l=o.length,i=0,u=0,v=0;;){if(f===o[u]){if(j[v++]=u,++i===t)break;f=a[i]}if(l<=++u)return null}var i=0,s=!1,g=0,d=e.v,w=(null===d&&(d=e.v=S(e.target)),u=0===j[0]?0:d[j[0]-1],0);if(u!==l)for(;;)if(l<=u){if(i<=0)break;if(200<++w)break;--i;u=d[k[--g]]}else if(a[i]===o[u]){if(k[g++]=u,++i===t){s=!0;break}++u}else u=d[u];var c=e.t.indexOf(n,j[0]),r=~c;if(r&&!s)for(var _=0;_<v;++_)j[_]=c+_;n=!1;r&&(n=e.v[c-1]===c);p=s?(b=k,g):(b=j,v);for(var b,p,x=0,y=0,_=1;_<t;++_)b[_]-b[_-1]!=1&&(x-=b[_],++y);if(x-=(12+(b[t-1]-b[0]-(t-1)))*y,0!==b[0]&&(x-=10*b[0]),s){for(var C=1,_=d[0];_<l;_=d[_])++C;24<C&&(x*=10*(C-24))}else x*=1e3;r&&(x/=10),n&&(x/=10),e.score=x-=l-t;for(_=0;_<p;++_)e.p[_]=b[_];return e.p.S=p,e},L=(r,e)=>{for(var n=new Set,a=0,f=null,o=0,t=r.L,l=0;l<t.length;++l){var i=t[l];if(null===(f=E(i,e)))return null;a+=f.score,f.p[0]<o&&(a-=o-f.p[0]);for(var o=f.p[0],u=0;u<f.p.S;++u)n.add(f.p[u])}f.score=a;var v,l=0;for(v of n)f.p[l++]=v;return f.p.S=l,f},i=r=>{for(var e=r.length,n=r.toLowerCase(),a=[],f=0,o=!1,t=0;t<e;++t){var l=a[t]=n.charCodeAt(t);32===l?o=!0:f|=1<<(97<=l&&l<=122?l-97:48<=l&&l<=57?26:l<=127?30:31)}return{u:a,_:f,C:o,l:n}},S=r=>{for(var e=r.length,n=(r=>{for(var e=r.length,n=[],a=0,f=!1,o=!1,t=0;t<e;++t){var l=r.charCodeAt(t),i=65<=l&&l<=90,l=i||97<=l&&l<=122||48<=l&&l<=57,u=i&&!f||!o||!l,f=i,o=l;u&&(n[a++]=t)}return n})(r),a=[],f=n[0],o=0,t=0;t<e;++t)t<f?a[t]=f:(f=n[++o],a[t]=void 0===f?e:f);return a},f=new Map,F=new Map,j=[],k=[],G=r=>{for(var e=N,n=r.length,a=0;a<n;++a){var f=r[a];null!==f&&(e<(f=f.score)&&(e=f))}return e===N?null:e},H=(r,e)=>{var n=r[e];if(void 0!==n)return n;for(var a=e,f=(a=Array.isArray(e)?a:e.split(".")).length,o=-1;r&&++o<f;)r=r[a[o]];return r},J=r=>"object"==typeof r,K=1/0,N=-K,O=[],P=(O.total=0,t=[],l=0,n=r=>{for(var e=t[f=0],n=1;n<l;){var a=n+1,f=n;a<l&&t[a].score<t[n].score&&(f=a),t[f-1>>1]=t[f],n=1+(f<<1)}for(var o=f-1>>1;0<f&&e.score<t[o].score;o=(f=o)-1>>1)t[f]=t[o];t[f]=e},(e={}).add=r=>{var e=l;t[l++]=r;for(var n=e-1>>1;0<e&&r.score<t[n].score;n=(e=n)-1>>1)t[e]=t[n];t[e]=r},e.j=r=>{var e;if(0!==l)return e=t[0],t[0]=t[--l],n(),e},e.k=r=>{if(0!==l)return t[0]},e.A=r=>{t[0]=r,n()},e);return{go:(r,e,n)=>{if(!r)if(n&&n.all){var a=e;var f=n;var o=[],t=(o.total=a.length,f&&f.limit||K);if(f&&f.key)for(var l=0;l<a.length;l++){var i=a[l];var u=H(i,f.key);if(!u)continue;if(!J(u))u=D(u);u.score=N;u.p.S=0;var v=u;v={target:v.target,t:"",i:null,v:null,g:0,score:u.score,p:null,obj:i};o.push(v);if(o.length>=t)return o}else if(f&&f.keys)for(l=0;l<a.length;l++){i=a[l];var s=new Array(f.keys.length);for(var g=f.keys.length-1;g>=0;--g){u=H(i,f.keys[g]);if(!u){s[g]=null;continue}if(!J(u))u=D(u);u.score=N;u.p.S=0;s[g]=u}s.obj=i;s.score=N;o.push(s);if(o.length>=t)return o}else for(l=0;l<a.length;l++){u=a[l];if(!u)continue;if(!J(u))u=D(u);u.score=N;u.p.S=0;o.push(u);if(o.length>=t)return o}return o}else return O;var d,w=999<(r=r).length?z(r):(void 0===(d=F.get(r))&&(d=z(r),F.set(r,d)),d),c=w._,_=(w.C,n&&n.threshold||N),b=n&&n.limit||K,p=0,x=0,y=e.length;if(n&&n.key)for(var C=n.key,L=0;L<y;++L){var S=e[L];!(h=H(S,C))||(c&(h=J(h)?h:D(h)).g)!==c||null===(M=E(w,h))||M.score<_||(M={target:M.target,t:"",i:null,v:null,g:0,score:M.score,p:M.p,obj:S},p<b?(P.add(M),++p):(++x,M.score>P.k().score&&P.A(M)))}else if(n&&n.keys)for(var j=n.scoreFn||G,k=n.keys,A=k.length,L=0;L<y;++L){for(var S=e[L],m=new Array(A),B=0;B<A;++B){C=k[B];(h=H(S,C))?(c&(h=J(h)?h:D(h)).g)!==c?m[B]=null:m[B]=E(w,h):m[B]=null}m.obj=S;var I=j(m);null===I||I<_||(m.score=I,p<b?(P.add(m),++p):(++x,I>P.k().score&&P.A(m)))}else for(var h,M,L=0;L<y;++L)!(h=e[L])||(c&(h=J(h)?h:D(h)).g)!==c||null===(M=E(w,h))||M.score<_||(p<b?(P.add(M),++p):(++x,M.score>P.k().score&&P.A(M)));if(0===p)return O;for(var q=new Array(p),L=p-1;0<=L;--L)q[L]=P.j();return q.total=p+x,q},prepare:a,cleanup:()=>{f.clear(),F.clear(),j=[],k=[]}}});