{
	"name": "Interactive Data Maps",
	"version": "0.4.1",

	"author": [
		"alex4401"
	],
	"url": "https://gitlab.mglolenstine.xyz/alex4401/mediawiki-extension-datamaps",
	"descriptionmsg": "data-maps-desc",
	"license-name": "GPL-2.0-or-later",
	"type": "parserhook",

	"requires": {
		"MediaWiki": ">= 1.37.0",
		"platform": {
			"php": ">= 7.4"
		}
	},

	"MessagesDirs": {
		"DataMaps.class": [
			"i18n"
		]
	},
	"ExtensionMessagesFiles": {
		"DataMapsMagic": "DataMaps.magic.php"
	},

	"ResourceFileModulePaths": {
		"localBasePath": "resources",
		"remoteExtPath": "DataMaps/resources"
	},

	"ResourceModules": {
		"ext.ark.datamaps.leaflet.core": {
			"scripts": [
				"vendor/leaflet/leaflet.js"
			],
			"styles": [
				"vendor/leaflet/leaflet.css"
			],
			"targets": [ "desktop", "mobile" ]
		},

		"ext.ark.datamaps.loader": {
			"dependencies": [
				"mediawiki.api"
			],
			"packageFiles": [
				"loader/main.js",
				"loader/storage.js",
				"loader/map.js",
				"loader/legend.js",
				"loader/markerLegend.js",
				"loader/popup.js"
			],
			"messages": [
				"datamap-legend-tab-locations",
				"datamap-toggle-show-all",
				"datamap-toggle-hide-all",
				"datamap-toggle-caves",
				"datamap-layer-control",
				"datamap-layer-surface",
				"datamap-layer-cave",
				"datamap-popup-related-article",
				"datamap-popup-dismissed",
				"datamap-popup-mark-as-dismissed",
				"datamap-popup-inside-cave",
				"datamap-coordinate-control-text",
				"datamap-control-reset-view",
				"datamap-control-centre-view"
			],
			"targets": [ "desktop", "mobile" ]
		},

		"ext.ark.datamaps.styles": {
			"styles": [
				"main.less",
				"legend.less",
				"controls.less",
				"popups.less",
				"markers.less"
			],
			"targets": [ "desktop", "mobile" ]
		}
	},

	"AutoloadNamespaces": {
		"Ark\\DataMaps\\": "includes/"
	},

	"callback": "Ark\\DataMaps\\DataMapsGlobals::onRegistration",
	"APIModules": {
		"queryDataMap": "Ark\\DataMaps\\API\\ApiQueryDataMapEndpoint"
	},
	"ContentHandlers": {
		"datamap": "Ark\\DataMaps\\Content\\DataMapContentHandler"
	},
	
	"Hooks": {
		"ParserFirstCallInit": "Ark\\DataMaps\\DataMapsHooks::onParserFirstCallInit"
	},

	"config": {
		"ArkDataNamespace": {
			"description": "Namespace where data maps will be stored.",
			"value": -1
		},
		"ArkDataMapDebugApiProcessingTime": {
			"description": "Attaches data map marker processing time in API requests.",
			"value": false
		},
		"ArkDataMapCacheType": {
			"description": "Cache type to use for queryDataMap API output. Defaults to CACHE_ANYTHING.",
			"value": -1
		},
		"ArkDataMapCacheExpiryTime": {
			"description": "Time for cached queryDataMap API (per title and revision) responses to be valid. Set to 0 to disable caching. Defaults to a day.",
			"value": 86400
		}
	},

	"manifest_version": 2
}
